.theme-preset-card {
	all: unset;
	display: flex;
	flex-direction: column;
	width: 180px;
	background: var(--surface-raised);
	border: var(--border-width-subtle) solid var(--border-subtle);
	border-radius: 12px;
	overflow: hidden;
	cursor: pointer;
	transition: all 200ms ease;
	
	&:hover {
		border-color: var(--border-strong);
		transform: translateY(-2px);
		box-shadow: var(--effect-shadow);
	}
	
	&:focus-visible {
		outline: 2px solid var(--accent-primary);
		outline-offset: 2px;
	}
	
	&.theme-preset-card--selected {
		border-color: var(--accent-primary);
		border-width: 2px;
		box-shadow: 0 0 0 2px var(--accent-primary) inset;
	}
}

.theme-preview {
	position: relative;
	width: 100%;
	height: 100px;
	overflow: hidden;
	
	/* Apply theme-specific variables for preview */
	--preview-bg-base: calc(var(--preview-style) == "flat" ? 1 : 0.8);
	--preview-blur: calc(var(--preview-style) == "glass" ? 8px : (var(--preview-style) == "satin" ? 4px : 0px));
}

.theme-preview__bg {
	position: absolute;
	inset: 0;
	background: hsl(var(--preview-hue) 30% 15% / var(--preview-bg-base));
	background-image: calc(var(--preview-gradient) * linear-gradient(
		var(--preview-angle, 135deg),
		hsl(var(--preview-hue) 70% 20% / 0.6) 0%,
		hsl(calc(var(--preview-hue) + 60) 60% 25% / 0.4) 100%
	));
}

.theme-preview__sidebar {
	position: absolute;
	left: 0;
	top: 0;
	width: 40px;
	height: 100%;
	background: hsl(var(--preview-hue) 20% 12% / var(--preview-bg-base));
	backdrop-filter: blur(var(--preview-blur));
	display: flex;
	flex-direction: column;
	gap: 4px;
	padding: 8px 6px;
}

.theme-preview__sidebar-item {
	width: 100%;
	height: 6px;
	background: hsl(var(--preview-hue) 10% 40%);
	border-radius: 3px;
	
	&.theme-preview__sidebar-item--active {
		background: hsl(var(--preview-hue) 60% 50%);
	}
}

.theme-preview__main {
	position: absolute;
	right: 0;
	top: 0;
	width: calc(100% - 40px);
	height: 100%;
	padding: 8px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.theme-preview__card {
	width: 100%;
	height: 60px;
	background: hsl(var(--preview-hue) 25% 18% / var(--preview-bg-base));
	backdrop-filter: blur(var(--preview-blur));
	border-radius: 8px;
	border: 1px solid hsl(var(--preview-hue) 20% 30% / 0.3);
	padding: 8px;
	display: flex;
	flex-direction: column;
	gap: 4px;
}

.theme-preview__card-header {
	width: 80%;
	height: 8px;
	background: hsl(var(--preview-hue) 5% 80%);
	border-radius: 4px;
}

.theme-preview__card-body {
	display: flex;
	flex-direction: column;
	gap: 3px;
	flex: 1;
}

.theme-preview__card-line {
	width: 100%;
	height: 4px;
	background: hsl(var(--preview-hue) 5% 60%);
	border-radius: 2px;
	
	&.theme-preview__card-line--short {
		width: 60%;
	}
}

.theme-preset-card__info {
	padding: 12px;
	display: flex;
	flex-direction: column;
	gap: 4px;
	text-align: left;
}

.theme-preset-card__name {
	font-size: var(--font-small);
	font-weight: 600;
	color: var(--text-primary);
}

.theme-preset-card__description {
	font-size: var(--font-xsmall);
	color: var(--text-secondary);
	opacity: 0.8;
	line-height: 1.3;
}

/* Light mode adjustments */
@media (prefers-color-scheme: light) {
	.theme-preview__bg {
		background: hsl(var(--preview-hue) 30% 85% / var(--preview-bg-base));
		background-image: calc(var(--preview-gradient) * linear-gradient(
			var(--preview-angle, 135deg),
			hsl(var(--preview-hue) 70% 80% / 0.6) 0%,
			hsl(calc(var(--preview-hue) + 60) 60% 75% / 0.4) 100%
		));
	}
	
	.theme-preview__sidebar {
		background: hsl(var(--preview-hue) 20% 88% / var(--preview-bg-base));
	}
	
	.theme-preview__sidebar-item {
		background: hsl(var(--preview-hue) 10% 60%);
		
		&.theme-preview__sidebar-item--active {
			background: hsl(var(--preview-hue) 60% 50%);
		}
	}
	
	.theme-preview__card {
		background: hsl(var(--preview-hue) 25% 92% / var(--preview-bg-base));
		border-color: hsl(var(--preview-hue) 20% 70% / 0.3);
	}
	
	.theme-preview__card-header {
		background: hsl(var(--preview-hue) 5% 20%);
	}
	
	.theme-preview__card-line {
		background: hsl(var(--preview-hue) 5% 40%);
	}
}