.animate--hue {
	animation: background-animation infinite 20s linear;

	&:is(.titlebar) {
		background: hsl(var(--color__primary-hue) 30% 40% / 5%);

		& .titlebar__content {
			visibility: hidden;
		}
	}
}

@keyframes background-animation {
	0% {
		--color__primary-hue: 0;
		--background-angle: 0deg;
	}

	100% {
		--color__primary-hue: 720;
		--background-angle: 360deg;
	}
}

#init-page__root {
	display: grid;
	height: 100%;
	width: 100%;
	flex-flow: column;
	grid-template-columns: 1fr 75vw 1fr;
	grid-template-rows: 1fr 75vh 1fr;
	text-align: center;
}

#init-page__wrapper {
	display: grid;
	grid-template-rows: auto 1fr auto;
	grid-column: 2;
	grid-row: 2;
	width: 100%;	
	border-radius: 12px;
	background-color: var(--bg-glass);
	backdrop-filter: var(--glass-blur);
	border: var(--border-width-strong) solid var(--border-subtle);
	box-shadow: var(--effect-shadow);
	padding: 32px;
	color: var(--text-primary);
}

.login-page__container {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 20px;
	width: 100%;
	justify-content: center;
	padding: 10px;
}

.login-page__auth-box {
	background: rgba(0, 0, 0, 0.2);
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 12px;
	padding: 24px 32px;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 16px;
	width: 100%;
	max-width: 550px;
	backdrop-filter: blur(10px);
}

.login-page__code-container {
	display: flex;
	align-items: center;
	gap: 12px;
	margin: 8px 0;
}

.login-page__code {
	font-size: 32px;
	font-family: 'JetBrains Mono', 'Fira Code', monospace;
	letter-spacing: 4px;
	font-weight: 700;
	color: hsl(var(--color__primary-hue) 80% 80%);
	padding: 12px 24px;
	background: rgba(0, 0, 0, 0.3);
	border-radius: 8px;
	box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
}

.login-page__timer {
	font-size: 13px;
	opacity: 0.6;
	margin-top: 4px;
}

.login-page__timer--low {
	color: #ff5555;
	opacity: 1;
	font-weight: 600;
}

@keyframes pulse {
	0% { transform: translate(-50%, -50%) scale(0.95); opacity: 0.15; }
	50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.25; }
	100% { transform: translate(-50%, -50%) scale(0.95); opacity: 0.15; }
}

@keyframes welcome-float {
	0% { transform: translateY(0px); }
	50% { transform: translateY(-10px); }
	100% { transform: translateY(0px); }
}

.welcome-flare__glow {
	position: absolute;
	top: 50%;
	left: 50%;
	width: 80%;
	height: 80%;
	background: var(--primary);
	filter: blur(50px);
	border-radius: 50%;
	z-index: 0;
	animation: pulse 4s ease-in-out infinite;
}

.welcome-flare__icon {
	font-size: clamp(64px, 15vh, 96px);
	position: relative;
	z-index: 1;
	filter: drop-shadow(0 10px 20px rgba(0,0,0,0.4));
	animation: welcome-float 5s ease-in-out infinite;
}

.init-page__header-title {
	font-size: clamp(32px, 8vh, 56px);
	font-weight: 900;
	letter-spacing: -0.04em;
	line-height: 1.1;
	margin-bottom: 8px;
	background: linear-gradient(160deg, #fff 20%, var(--primary) 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}

.login-page__url {
	font-size: 13px;
	opacity: 0.5;
	text-decoration: underline;
	cursor: pointer;
}

.login-page__url:hover {
	opacity: 0.8;
}

.login-page__instructions {
	text-align: center;
	margin-bottom: 8px;
}

.login-page__instructions b {
	color: hsl(var(--color__primary-hue) 70% 70%);
}

.spinner--small {
	width: 14px;
	height: 14px;
	border: 2px solid rgba(255, 255, 255, 0.2);
	border-top-color: white;
	border-radius: 50%;
	animation: spin 0.8s linear infinite;
}

.spinner {
	width: 40px;
	height: 40px;
	border: 4px solid rgba(255, 255, 255, 0.1);
	border-top-color: hsl(var(--color__primary-hue) 60% 60%);
	border-radius: 50%;
	animation: spin 1s linear infinite;
}

@keyframes spin {
	to { transform: rotate(360deg); }
}

.hue-track .slider__track {
	background: linear-gradient(
		to right,
		hsl(0, 70%, 50%),
		hsl(60, 70%, 50%),
		hsl(120, 70%, 50%),
		hsl(180, 70%, 50%),
		hsl(240, 70%, 50%),
		hsl(300, 70%, 50%),
		hsl(360, 70%, 50%)
	);
	border-radius: 8px;
	height: 8px;
}

.hue-track .slider__thumb {
	box-shadow:
		0 0 0 2px var(--surface-overlay),
		0 4px 12px rgba(0, 0, 0, 0.3);
	border: 2px solid white;
}

/* Modloader Pills for Onboarding (matches Install Mini Page) */
.modloader-pills {
display: flex;
gap: 8px;
flex-wrap: wrap;
background-color: transparent;
border-radius: 0;
overflow: visible;
}

.modloader-pills .toggle-group__item {
padding: 6px 16px;
border-radius: 20px;
border: 1px solid var(--border-subtle);
background: var(--surface-base);
color: var(--text-primary);
opacity: 0.8;
cursor: pointer;
transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
font-size: 13px;
font-weight: 500;
}

.modloader-pills .toggle-group__item:hover {
background: var(--surface-raised);
opacity: 1;
transform: translateY(-1px);
}

.modloader-pills .toggle-group__item[data-pressed] {
background-color: var(--primary);
border-color: transparent;
color: white;
opacity: 1;
box-shadow: 0 4px 12px hsl(var(--color__primary-hue) 70% 30% / 0.3);
}

/* Form styles for onboarding to match install page */
.init-form-field {
display: flex;
flex-direction: column;
gap: 8px;
width: 100%;
}

.init-form-label {
font-size: 12px;
font-weight: 600;
opacity: 0.5;
color: var(--text-primary);
}

/* Icon Picker Hint for onboarding */
.init-icon-container {
position: relative;
cursor: pointer;
}

.init-icon-hint {
position: absolute;
bottom: 0;
left: 0;
right: 0;
background: rgba(0, 0, 0, 0.61);
color: white;
font-size: 10px;
font-weight: 700;
text-transform: uppercase;
padding: 4px 0;
text-align: center;
border-bottom-left-radius: 12px;
border-bottom-right-radius: 12px;
opacity: 0.8;
pointer-events: none;
transition: opacity 0.2s;
}

.init-icon-container:hover .init-icon-hint {
opacity: 1;
background: var(--primary);
}
